<style-links></style-links>
<sidebar content="'asignaciones'"></sidebar>
<div id="right-panel" class="right-panel">
  <header-component></header-component>
  <div class="content pb-0">
    <div class="row">
      <div class="card w-100">
        <div class="card-header" ng-if="!vm.asignacion">
          <strong class="card-title">Asignar </strong> Grado
        </div>
        <div class="card-body">
          <div id="pay-invoice">
            <div class="card-body">
              <div class="card-title">
                <h3 class="text-center" ng-if="!vm.asignacion">Ingrese los datos</h3>
              </div>
              <hr />
              <form name="vm.asignacionForm" novalidate>
                <div class="form-group">
                  <label for="cc-payment" class="control-label mb-1"
                    >Alumno</label
                  >
                  <input
                    id="alumno"
                    name="alumno"
                    type="text"
                    class="form-control"
                    required
                    ng-model="vm.asignacionModel.alumno"
                  />
                </div> 
                <div class="form-group">
                  <label for="cc-payment" class="control-label mb-1"
                    > Grado</label
                  >
                  <select
                    id="curso"
                    name="curso"
                    type="text"
                    class="form-control"
                    required
                    ng-model="vm.asignacionModel.grado"
                  >
                    <option
                      value="{{c.id}}"
                      ng-repeat="c in vm.grados track by $index"
                      ng-selected="{{c.id == vm.asignacionModel.grado}}"                                        
                      >{{c.grado}}</option
                    >
                  </select>
                  <small class="form-text text-danger" ng-if="vm.evaluacionForm.curso.$invalid && vm.evaluacionForm.$submitted">*Ingrese el curso</small>
                </div>  
                <div class="card-footer">
                  <button
                    type="submit"
                    class="btn btn-primary btn-sm"
                    ng-click="vm.getCursos(vm.asignacionModel.grado)"
                  >
                    <i class="fa fa-dot-circle-o"></i> Consultar
                  </button>
                </div>
                <div class="card-body">
                  <table class="table">
                    <thead class="thead-dark">
                      <tr>
                        <th scope="col">#</th>
                        <th scope="col">Nombre del curso</th>
                        <th scope="col">Horario</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr ng-repeat="curso in vm.cursos track by $index">
                        <th scope="row">{{curso.id}}</th>
                        <td>{{curso.nombre_curso}}</td>
                        <td>{{curso.horario}}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>              
                <div class="form-group">
                    <label for="cc-payment" class="control-label mb-1"
                      >Ciclo</label
                    >
                    <input
                      id="ciclo"
                      name="ciclo"
                      type="text"
                      class="form-control"
                      required
                      ng-model="vm.asignacionModel.ciclo"
                    />
                </div>           
              </form>
            </div>
          </div>
        </div>
        <div class="card-footer">
          <button
            type="submit"
            class="btn btn-primary btn-sm"
            ng-click="vm.guardarAsignacion()"
          >
            <i class="fa fa-dot-circle-o"></i> Guardar
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
